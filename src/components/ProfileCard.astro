---
import type { CollectionEntry } from 'astro:content';
interface Props {
  entry: CollectionEntry<'profiles'>;
}
const { entry } = Astro.props;
const { data, slug } = entry;
---

<a href={`/profiles/${slug}`} class="group block rounded-xl border p-4 hover:shadow-sm transition">
  <div class="flex items-center gap-3">
    {data.avatar ? (
      <img
        src={data.avatar}
        alt={data.name}
        width="56"
        height="56"
        class="h-14 w-14 rounded-full object-cover border"
        loading="lazy"
      />
    ) : (
      <div class="h-14 w-14 rounded-full bg-slate-200 grid place-items-center text-slate-600">
        {data.name.slice(0,1)}
      </div>
    )}
    <div>
      <h3 class="font-semibold group-hover:underline">{data.name}</h3>
      {data.title && <p class="text-sm text-slate-600">{data.title}</p>}
    </div>
  </div>
  {data.tags?.length ? (
    <ul class="mt-3 flex flex-wrap gap-2">
      {data.tags.slice(0, 4).map((t) => <li class="text-xs bg-slate-100 px-2 py-1 rounded">{t}</li>)}
    </ul>
  ) : null}
</a>
