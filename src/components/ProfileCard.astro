---
import type { CollectionEntry } from 'astro:content';
interface Props { entry: CollectionEntry<'profiles'> }
const { entry } = Astro.props;
const { data} = entry;
---

<a href={`/profiles/${entry.id}`} class="group block rounded-2xl p-6 md:p-7 transition bg-white/10 shadow-lg shadow-white/5 hover:shadow-xl">
  <div class="flex items-center gap-4">
    {data.avatar ? (
      <img
        src={data.avatar}
        alt={data.name}
        class="size-20 md:h-24 md:w-24 rounded-full object-cover border-black"
        loading="lazy"
      />
    ) : (
      <div class="h-20 w-20 md:h-24 md:w-24 rounded-full bg-slate-200 grid place-items-center text-slate-600 text-2xl md:text-3xl">
        {data.name?.slice(0,1) ?? "?"}
      </div>
    )}
    <div>
      <h3 class="text-lg md:text-xl font-semibold leading-snug group-hover:underline">{data.name}</h3>
      {data.title && <p class="text-sm md:text-base text-slate-600">{data.title}</p>}
      {data.location && <p class="text-xs md:text-sm mt-1 text-slate-500">üìç {data.location}</p>}
    </div>
  </div>

  {data.tags?.length ? (
    <ul>
      {data.tags.slice(0, 3).map((t: string) => (
        <li>{t}</li>
      ))}
    </ul>
  ) : null}
  {data.description && (
  <p class="mt-2 p-2 pt-1 pb-1 bg-slate-800 rounded-2xl text-gray-200 line-clamp-3">{data.description}</p>
)}
</a>
