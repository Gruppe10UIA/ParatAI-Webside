---
import type { CollectionEntry } from 'astro:content';
interface Props { entry: CollectionEntry<'profiles'> }
const { entry } = Astro.props;
const { data, slug } = entry;
---

<a href={`/profiles/${slug}`} class="group block rounded-2xl border p-6 md:p-7 hover:shadow-md transition">
  <div class="flex items-center gap-4">
    {data.avatar ? (
      <img
        src={data.avatar}
        alt={data.name}
        class="size-20 md:h-24 md:w-24 rounded-full object-cover border"
        loading="lazy"
      />
    ) : (
      <div class="h-20 w-20 md:h-24 md:w-24 rounded-full bg-slate-200 grid place-items-center text-slate-600 text-2xl md:text-3xl">
        {data.name?.slice(0,1) ?? "?"}
      </div>
    )}
    <div>
      <h3 class="text-lg md:text-xl font-semibold leading-snug group-hover:underline">{data.name}</h3>
      {data.title && <p class="text-sm md:text-base text-slate-600">{data.title}</p>}
      {data.location && <p class="text-xs md:text-sm mt-1 text-slate-500">üìç {data.location}</p>}
    </div>
  </div>

  {data.tags?.length ? (
    <ul class="mt-4 flex flex-wrap gap-2">
      {data.tags.slice(0, 6).map((t) => <li class="text-xs md:text-sm bg-slate-100 px-2.5 py-1 rounded">{t}</li>)}
    </ul>
  ) : null}
  {data.description && (
  <p class="mt-2 p-2 bg-neutral-700 text-gray-200">{data.description}</p>
)}
</a>
